<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Customer Service</title>
  <link rel="stylesheet" href="Css/Customer-page.css">
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
</head>

<body>
 


<header class="top-bar">
  <img 
    class="logo" 
    src="images/Logo.png" 
    alt="Fresh n Klean Logo">

  <button 
    id="employeeBtn" 
    class="btn-employee" 
    onclick="location.href='Login.html'">
    Employee
  </button>
</header>



<section class="table-section">

  <table id="customerTable" class="rounded-table">

    <thead>
      <tr>
        <th>Name</th>
        <th>Number</th>
        <th>Price</th>
        <th>Status</th>
      </tr>
    </thead>

  
     <tbody></tbody>

  </table>

</section>



<button class="custom-cs-button jsCustomerBtn">

  <div class="icon-circle">
    <img 
      src="images/customer-service-icon-in-black-and-white-color-vector.jpg" 
      alt="Customer Service Icon">
  </div>

  <span class="button-text customerBtn">
    Customer <br> Service
  </span>

</button>


<div id="containerModal" class="containerModalShadow offShadow ">
  <div class="modalContent"></div> <!--lagyan ng animation-->

<section class="container offContainer containerModal">

  <button class="btn-close closeBtn">&times;</button>

  
  <header class="brand-header">
    <h1 class="brand-logo">Fresh N' Klean</h1>
  </header>

  
  <header class="container__header">
    <h2>Customer Service</h2>
  </header>


  
  <section class="container__body">

    <form id="loginForm" class="login-form" method="POST">

      
      <div class="form-group">
        <input
          type="text"
          id="customerName"
          name="customerName"
          class="typemodawnamemo"
          placeholder="Enter customer name"
          required>
      </div>

      
      <div class="form-group">
        <input
          type="email"
          name="email"
          class="entermodawemailmo"
          placeholder="Enter email address"
          required>
      </div>

      
      <div class="form-group">
        <select 
          id="selectConcern" 
          name="selectConcern" 
          class="select-concern" 
          required>

          <option value="">Select Concern Type</option>
          <option value="order_inquiry">Order Inquiry</option>
          <option value="product_issue">Product Issue</option>
          <option value="payment_concern">Payment Concern</option>
          <option value="feedback_suggestions">Feedback / Suggestions</option>

        </select>
      </div>

      
      <div class="form-group">
        <textarea
          name="message"
          class="entermodawmessage"
          placeholder="Enter your message"
          required></textarea>
      </div>

      
      <button type="submit" class="btn-login">
        Submit Request
      </button>

    </form>

  </section>
</div>
</main>


<script src="js/Customer-page.js"></script>

<script>
  (function () {
    emailjs.init("t6MDpS7dkfS8CHno3");
  })();

  console.log("emailjs:", emailjs)

  const form = document.getElementById("loginForm");

  form.addEventListener("submit", function (e) {
    e.preventDefault();

    const customerName = form.customerName.value;
    const email = form.email.value;
    const selectConcern = form.selectConcern.value;
    const message = form.message.value;

    emailjs.send("service_ul5j1zt", "template_mvk3297", {
      customer_name: customerName,
      user_email: email,
      concern_type: selectConcern,
      message: message
    })
    .then(() => {

    return emailjs.send("service_ul5j1zt", "template_24fa3xo", {
        to_name: customerName,
        concern: selectConcern,
        to_email: email
      });

    })
    .then(() => {
      alert("Request sent successfully ðŸ“©!");
      form.reset();
    })
    .catch((error) => {
      console.error("EmailJS ERROR:", error);
      alert("Something failed. Check console (F12).");
    });
  });
</script>
</body>
</html>
